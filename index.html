<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíñ Valentine üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(#ffd1dc,#ffe6eb);
  font-family:Poppins,sans-serif
}
.screen{display:none;text-align:center;padding:24px}
.screen.active{display:block}

/* ENVELOPPE */
.envelopeWrap{position:relative;width:240px;height:240px}
.envelopeHeart{
  width:220px;height:220px;
  background:#ffb3c1;
  transform:rotate(45deg);
  border-radius:18px;
  margin:auto;
  box-shadow:0 14px 35px rgba(0,0,0,.18)
}
.envelopeHeart:before,
.envelopeHeart:after{
  content:"";
  position:absolute;
  width:220px;height:220px;
  background:#ffb3c1;
  border-radius:50%
}
.envelopeHeart:before{top:-110px;left:0}
.envelopeHeart:after{left:-110px;top:0}

.openBtn{
  position:absolute;
  inset:0;
  margin:auto;
  width:140px;height:44px;
  border:none;
  border-radius:999px;
  background:#ff4d6d;
  color:#fff;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 10px 20px rgba(255,77,109,.35)
}

/* TEXTE */
h1{
  font-family:"Dancing Script",cursive;
  font-size:46px;
  color:#b3003c
}

/* BOUTONS */
.buttons{margin-top:22px;display:flex;gap:12px;justify-content:center}
.btn{
  padding:14px 22px;
  font-size:16px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  font-weight:600
}
#yesBtn{background:#ff4d6d;color:#fff}
#noBtn{background:#e6e6e6;color:#333;position:absolute}

/* EMOJI üòû */
#sadFace{
  position:fixed;
  left:50%;
  top:18%;
  transform:translate(-50%,-50%) scale(.6);
  font-size:64px;
  opacity:0;
  pointer-events:none;
  transition:transform .2s,opacity .2s;
  z-index:10
}

/* FINAL */
.bear{font-size:120px}
#loveBtn{
  margin-top:18px;
  padding:14px 26px;
  font-size:18px;
  border-radius:999px;
  border:none;
  background:#ff4d6d;
  color:#fff;
  cursor:pointer;
  font-weight:700;
  transition:.3s
}
#loveBtn.glow{transform:scale(1.15);box-shadow:0 0 28px pink}
#loveMessage{
  margin-top:14px;
  font-size:26px;
  color:#b3003c;
  display:none;
  font-family:"Dancing Script",cursive
}

/* COEURS */
.falling-heart{
  position:fixed;
  top:-24px;
  animation:fall linear infinite;
  pointer-events:none
}
@keyframes fall{to{transform:translateY(110vh);opacity:0}}

.explosion-heart{
  position:fixed;
  animation:explode 1s forwards;
  pointer-events:none
}
@keyframes explode{
  to{transform:translate(var(--x),var(--y)) scale(0);opacity:0}
}
</style>
</head>

<body>

<div id="sadFace">üòû</div>

<!-- √âCRAN 1 -->
<div id="screen1" class="screen active">
  <div class="envelopeWrap">
    <div class="envelopeHeart"></div>
    <button class="openBtn" id="openBtn">Open me</button>
  </div>
</div>

<!-- √âCRAN 2 -->
<div id="screen2" class="screen">
  <h1>Romayssa, veux-tu √™tre ma Valentine ? ‚ù§Ô∏è</h1>
  <div class="buttons">
    <button class="btn" id="yesBtn">Oui, avec plaisir</button>
    <button class="btn" id="noBtn">Non, j'ai autre chose √† faire</button>
  </div>
</div>

<!-- √âCRAN 3 -->
<div id="screen3" class="screen">
  <div class="bear">üß∏‚ù§Ô∏è</div>
  <h1>T'avais pas le choix fa√ßon üòå‚ù§Ô∏è</h1>
  <button id="loveBtn">Je t‚Äôaime ‚ù§Ô∏è</button>
  <div id="loveMessage">Moi aussi, pour toujours üíû</div>
</div>

<script>
const s1=document.getElementById("screen1"),
s2=document.getElementById("screen2"),
s3=document.getElementById("screen3"),
openBtn=document.getElementById("openBtn"),
yesBtn=document.getElementById("yesBtn"),
noBtn=document.getElementById("noBtn"),
sadFace=document.getElementById("sadFace"),
loveBtn=document.getElementById("loveBtn"),
loveMsg=document.getElementById("loveMessage");

let noAttempts=0,heartInterval=null;

openBtn.onclick=()=>{
  s1.classList.remove("active");
  s2.classList.add("active");
  noBtn.style.left="55%";
  noBtn.style.top="55%";
};

function moveNo(){
  noAttempts++;
  if(noAttempts>=5){
    sadFace.style.opacity=1;
    const scale=Math.min(0.8+(noAttempts-5)*0.18,2);
    sadFace.style.transform=`translate(-50%,-50%) scale(${scale})`;
  }
  noBtn.style.left=Math.random()*70+15+"%";
  noBtn.style.top=Math.random()*60+30+"%";
}

noBtn.onmouseenter=moveNo;
noBtn.onpointerdown=e=>{e.preventDefault();moveNo()};

yesBtn.onclick=()=>{
  sadFace.style.opacity=0;
  sadFace.style.transform="translate(-50%,-50%) scale(.6)";
  noAttempts=0;

  s2.classList.remove("active");
  s3.classList.add("active");
  startHearts();
};

loveBtn.onclick=()=>{
  loveBtn.classList.add("glow");
  loveMsg.style.display="block";
  explode(loveBtn);
  setTimeout(()=>loveBtn.classList.remove("glow"),400);
};

function startHearts(){
  if(heartInterval)return;
  heartInterval=setInterval(()=>{
    const h=document.createElement("div");
    h.className="falling-heart";
    h.innerText=Math.random()<.5?"‚ù§Ô∏è":"üíó";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=14+Math.random()*18+"px";
    h.style.animationDuration=2+Math.random()*3+"s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),5000);
  },220);
}

function explode(btn){
  const r=btn.getBoundingClientRect();
  for(let i=0;i<22;i++){
    const h=document.createElement("div");
    h.className="explosion-heart";
    h.innerText="‚ù§Ô∏è";
    h.style.left=r.left+r.width/2+"px";
    h.style.top=r.top+"px";
    h.style.setProperty("--x",(Math.random()*240-120)+"px");
    h.style.setProperty("--y",(Math.random()*-260)+"px");
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1000);
  }
}
</script>

</body>
</html>
